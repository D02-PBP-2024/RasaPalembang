{% extends 'base.html' %}
{% load static %}
{% load humanize %}

{% block content %}
<main class="px-4 md:px-14 lg:px-24 xl:px-36 py-5 md:py-8 w-full mx-auto min-h-[72vh]">
    <h1 class="text-2xl font-bold mb-5">Daftar Favorit Anda</h1>
    {% if favorit %}
    <div class="grid grid-cols-2 lg:grid-cols-4 gap-2 md:gap-4 mt-2 md:mt-4">
        {% for item in favorit %}
        <div class="py-2">
            <div class="relative">
                {% if item.makanan %}
                <a href="{% url 'makanan:detail_makanan' item.makanan.id %}"
                    class="hover:brightness-110 transition duration-300">
                    <!-- Gambar Produk -->
                    <div class="relative">
                        <img src="{{ item.makanan.gambar.url }}" alt="{{ item.makanan.nama }}"
                            class="w-full h-36 md:h-64 object-cover rounded-lg">
                        <div class="absolute top-2.5 right-2.5 flex gap-1.5 text-white">
                            <a href="{% url 'favorit:ubah_favorit' item.id %}"
                                class="bg-[#4f9da6] transition duration-200 hover:bg-[#3b747a] flex place-items-center transition p-2.5 rounded-full">
                                <i class="fa-solid fa-pen"></i>
                            </a>
                            <a href="{% url 'favorit:hapus_favorit' item.id %}"
                                class="bg-[#4f9da6] transition duration-200 hover:bg-[#3b747a] flex place-items-center transition p-2.5 rounded-full">
                                <i class="fa-regular fa-trash-can"></i>
                            </a>
                        </div>
                    </div>
                    <!-- Informasi Produk -->
                    <div class="mt-2.5 flex flex-col gap-1">
                        <h1 class="md:text-lg font-semibold">{{ item.makanan.nama }}</h1>
                        <h4 class="text-neutral-500 max-md:text-sm">
                            {% if item.catatan %}
                            {{ item.catatan }}
                            {% else %}
                            Belum ada catatan.
                            {% endif %}
                        </h4>
                    </div>
                </a>
                {% elif item.minuman %}
                <a href="{% url 'minuman:detail_minuman' item.minuman.id %}"
                    class="hover:brightness-110 transition duration-300">
                    <!-- Gambar Produk -->
                    <div class="relative">
                        <img src="{{ item.minuman.gambar.url }}" alt="{{ item.minuman.nama }}"
                            class="w-full h-36 md:h-64 object-cover rounded-lg">
                        <div class="absolute top-2.5 right-2.5 flex gap-1.5 text-white">
                            <a href="{% url 'favorit:ubah_favorit' item.id %}"
                                class="bg-[#4f9da6] transition duration-200 hover:bg-[#3b747a] flex place-items-center transition p-2.5 rounded-full">
                                <i class="fa-solid fa-pen"></i>
                            </a>
                            <a href="{% url 'favorit:hapus_favorit' item.id %}"
                                class="bg-[#4f9da6] transition duration-200 hover:bg-[#3b747a] flex place-items-center transition p-2.5 rounded-full">
                                <i class="fa-regular fa-trash-can"></i>
                            </a>
                        </div>
                    </div>
                    <!-- Informasi Produk -->
                    <div class="mt-2.5 flex flex-col gap-1">
                        <h1 class="md:text-lg font-semibold">{{ item.minuman.nama }}</h1>
                        <h4 class="text-neutral-500 max-md:text-sm">
                            {% if item.catatan %}
                            {{ item.catatan }}
                            {% else %}
                            Belum ada catatan.
                            {% endif %}
                        </h4>
                    </div>
                </a>
                {% elif item.restoran %}
                <a href="{% url 'restoran:detail_restoran' item.restoran.id %}"
                    class="hover:brightness-110 transition duration-300">
                    <div class="relative">
                        <img src="{{ item.restoran.gambar.url }}" alt="{{ item.restoran.nama }}"
                            class="w-full h-36 md:h-64 object-cover rounded-lg">
                        <div class="absolute top-2.5 right-2.5 flex gap-1.5 text-white">
                            <a href="{% url 'favorit:ubah_favorit' item.id %}"
                                class="bg-[#4f9da6] transition duration-200 hover:bg-[#3b747a] flex place-items-center transition p-2.5 rounded-full">
                                <i class="fa-solid fa-pen"></i>
                            </a>
                            <a href="{% url 'favorit:hapus_favorit' item.id %}"
                                class="bg-[#4f9da6] transition duration-200 hover:bg-[#3b747a] flex place-items-center transition p-2.5 rounded-full">
                                <i class="fa-regular fa-trash-can"></i>
                            </a>
                        </div>
                    </div>
                    <!-- Informasi Produk -->
                    <div class="mt-2.5 flex flex-col gap-1">
                        <h1 class="md:text-lg font-semibold">{{ item.restoran.nama }}</h1>
                        <h4 class="text-neutral-500 max-md:text-sm">
                            {% if item.catatan %}
                            {{ item.catatan }}
                            {% else %}
                            Belum ada catatan.
                            {% endif %}
                        </h4>
                    </div>
                </a>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="px-3 sm:px-6 py-16 w-full flex max-md:flex-col justify-center items-center gap-4 md:gap-14">
        <div>
            <img src="{% static 'images/empty-makanan.png' %}" alt="Belum ada makanan" class="max-w-24 md:max-w-32">
        </div>
        <div>
            <h1 class="text-center text-xl md:text-2xl font-bold">Belum Ada Favorit</h1>
            <p class="text-center text-gray-900 max-md:text-sm max-md:mt-2">
                Ayo, tambahkan restoran, makanan, atau minuman favorit Anda!
            </p>
        </div>
    </div>
    {% endif %}
</main>
{% endblock %}