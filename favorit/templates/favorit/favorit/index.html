{% extends 'base.html' %}
{% load humanize %}

{% block content %}
<div class="max-w-6xl mx-auto p-5 font-sans">
    <h1 class="text-center text-4xl font-bold text-[#3b747a] mb-5">Daftar Favorit</h1>

    <ul class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 p-0">
        {% for item in favorit %}
        <li class="bg-gray-100 border border-gray-300 rounded-lg p-4 shadow-md hover:shadow-lg transition-transform duration-300 transform hover:scale-105">
            <div class="relative py-2">
                {% if item.makanan %}
                <a href="{% url 'makanan:detail_makanan' item.makanan.id %}" class="hover:brightness-110 transition duration-300">
                    <!-- Gambar Produk -->
                    <img src="{{ item.makanan.gambar.url }}" alt="{{ item.makanan.nama }}" class="w-full h-36 md:h-64 object-cover rounded-lg">
                    <!-- Informasi Produk -->
                    <div class="mt-2.5 flex flex-col gap-1">
                        <h1 class="md:text-lg font-semibold">{{ item.makanan.nama }}</h1>
                        <div>
                            <h2 class="max-md:text-sm flex items-center gap-2">
                                <i class="fa-solid fa-dollar-sign text-sm max-md:scale-90 w-4 flex justify-center text-neutral-500"></i>
                                Rp{{ item.makanan.harga|floatformat:0|intcomma }}
                            </h2>
                            <h3 class="max-md:text-sm flex items-start gap-2">
                                <i class="fa-solid fa-utensils text-sm max-md:scale-90 mt-1 w-4 flex justify-center text-neutral-500"></i>
                                <a href="{% url 'restoran:detail_restoran' item.makanan.restoran.id %}" class="hover:underline">
                                    {{ item.makanan.restoran.nama }}
                                </a>
                            </h3>
                        </div>
                    </div>
                </a>
                {% elif item.minuman %}
                <a href="{% url 'minuman:detail_minuman' item.minuman.id %}" class="hover:brightness-110 transition duration-300">
                    <!-- Gambar Produk -->
                    <img src="{{ item.minuman.gambar.url }}" alt="{{ item.minuman.nama }}" class="w-full h-36 md:h-64 object-cover rounded-lg">
                    <!-- Informasi Produk -->
                    <div class="mt-2.5 flex flex-col gap-1">
                        <h1 class="md:text-lg font-semibold">{{ item.minuman.nama }}</h1>
                        <div>
                            <h2 class="max-md:text-sm flex items-center gap-2">
                                <i class="fa-solid fa-dollar-sign text-sm max-md:scale-90 w-4 flex justify-center text-neutral-500"></i>
                                Rp{{ item.minuman.harga|floatformat:0|intcomma }}
                            </h2>
                            <h3 class="max-md:text-sm flex items-start gap-2">
                                <i class="fa-solid fa-utensils text-sm max-md:scale-90 mt-1 w-4 flex justify-center text-neutral-500"></i>
                                <a href="{% url 'restoran:detail_restoran' item.minuman.restoran.id %}" class="hover:underline">
                                    {{ item.minuman.restoran.nama }}
                                </a>
                            </h3>
                        </div>
                    </div>
                </a>
                {% elif item.restoran %}
                <a href="{% url 'restoran:detail_restoran' item.restoran.id %}" class="hover:brightness-110 transition duration-300">
                    <!-- Gambar Restoran -->
                    <img src="{{ item.restoran.gambar.url }}" alt="{{ item.restoran.nama }}" class="w-full h-36 md:h-64 object-cover rounded-lg">
                    <!-- Informasi Restoran -->
                    <div class="mt-2.5 flex flex-col gap-1">
                        <h1 class="md:text-lg font-semibold">{{ item.restoran.nama }}</h1>
                    </div>
                </a>
                {% endif %}
                
                <!-- Tombol Edit dan Hapus -->
                <div class="mt-4 flex space-x-2">
                    <a href="{% url 'favorit:ubah_favorit' item.id %}" class="bg-[#4f9da6] text-white px-4 py-2 rounded-md font-bold transition duration-200 hover:bg-[#3b747a]">
                        Edit
                    </a>
                    <a href="{% url 'favorit:hapus_favorit' item.id %}" class="bg-[#d04848] text-white px-4 py-2 rounded-md font-bold transition duration-200 hover:bg-[#a83030]">
                        Hapus
                    </a>
                </div>
            </div>
        </li>
        {% empty %}
        <li class="bg-gray-100 border border-gray-300 rounded-lg p-4 text-gray-600 italic">
            Anda belum menambahkan favorit apapun.
        </li>
        {% endfor %}
    </ul>
</div>
{% endblock %}
